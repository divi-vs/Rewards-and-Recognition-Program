@page "/"
@using System.Security.Claims

@inject AuthenticationStateProvider AuthenticationStateProvider

<PageTitle> Quarterly Super Stars</PageTitle>

<Row>
  <Column ColumnSize="ColumnSize.Is6">
    <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
      <AuthorizeView>
        <Authorized>
          <Card Background="Background.Transparent" WhiteText Width="Width.Is75" Border="Border.Is0">
             <CardBody>
               <CardTitle Size="3">
                 hello superstar, @user.Identity.Name.Split('@')[0].ToLower()
              </CardTitle>
              <Button Color="Color.Primary" Type="ButtonType.Link" Margin="Margin.Is2.FromTop" To="MicrosoftIdentity/Account/SignOut">
                Logout <Icon Name="IconName.ArrowRight" />
              </Button>
            </CardBody>
          </Card>
        </Authorized>
      </AuthorizeView>
      
    </div>
  </Column>
  <Column ColumnSize="ColumnSize.Is6">
    <div class="d-flex justify-content-center align-items-center" style="height: 100vh;">
      <Card Background="Background.Light"  Width="Width.Is75">
        <CardBody class="d-flex flex-column justify-content-center align-items-center">
          <Button Background="Background.Transparent" Block Border="Border.Rounded.Is1.Secondary" Type="ButtonType.Link" To="#" Width="Width.Is75" Margin="Margin.Is2">Nomination Form</Button>
          <Button Background="Background.Transparent" Block Border="Border.Rounded.Is1.Secondary" Width="Width.Is75" Margin="Margin.Is2">Page 2</Button>    
    </CardBody>
</Card>

    </div>
  </Column>
</Row>


@code {
  private ClaimsPrincipal user;

  protected override async Task OnInitializedAsync()
  {
    var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();
    user = authState.User;
  }
}
